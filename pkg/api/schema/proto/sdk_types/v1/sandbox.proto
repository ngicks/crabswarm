syntax = "proto3";

package sdk_types.v1;

// NetworkSandboxSettings represents network-related sandbox configuration.
// Copied from https://platform.claude.com/docs/en/agent-sdk/typescript#network-sandbox-settings
message NetworkSandboxSettings {
  optional bool allow_local_binding = 1;
  repeated string allow_unix_sockets = 2;
  optional bool allow_all_unix_sockets = 3;
  optional int32 http_proxy_port = 4;
  optional int32 socks_proxy_port = 5;
}

// SandboxIgnoreViolations specifies violations to ignore in sandbox mode.
// Copied from https://platform.claude.com/docs/en/agent-sdk/typescript#sandbox-ignore-violations
message SandboxIgnoreViolations {
  repeated string file = 1;
  repeated string network = 2;
}

// SandboxSettings represents the sandbox configuration.
// Copied from https://platform.claude.com/docs/en/agent-sdk/typescript#sandbox-settings
message SandboxSettings {
  optional bool enabled = 1;
  optional bool auto_allow_bash_if_sandboxed = 2;
  repeated string excluded_commands = 3;
  optional bool allow_unsandboxed_commands = 4;
  optional NetworkSandboxSettings network = 5;
  optional SandboxIgnoreViolations ignore_violations = 6;
  optional bool enable_weaker_nested_sandbox = 7;
}
